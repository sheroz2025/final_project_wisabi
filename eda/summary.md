# Аналитическая записка по проекту Wisabi Bank

## Цель проекта
Проект посвящён анализу банковских транзакций на основе набора данных **Wisabi Bank**. Основная цель:
- объединить данные из разрозненных таблиц,
- построить связи через первичные и внешние ключи,
- создать представления (VIEW) для комплексного анализа,
- исследовать поведение клиентов, типы транзакций и активность по регионам.

## Источник данных
Данные взяты с [Kaggle](https://www.kaggle.com/datasets/obinnaiheanachor/wisabi-bank-dataset) и включают CSV-файлы:
- `customers.csv`
- `transactions (по регионам)`
- `transaction_type.csv`
- `atm_location.csv`
- `calendar.csv`

Из-за ограничения по объёму (100 МБ) для анализа взяты **первые 1000 строк** из каждой таблицы.

## Этапы работы
1. Загрузка CSV-файлов в DuckDB через Pandas.
2. Создание схемы таблиц через `tables.sql`.
3. Загрузка сокращённых данных в базу.
4. Создание VIEW через `views.sql`.
5. Построение дашборда на Streamlit.

## Связи между таблицами
- `transactions.customer_id → customers.customer_id`
- `transactions.atm_location_id → atm_location.location_id`
- `transactions.transaction_type_id → transaction_type.transaction_type_id`
- `transactions.calendar_id → calendar.calendar_id`

##  Описание таблиц

| Таблица             | Назначение |
|---------------------|-----------|
| `customers`         | Информация о клиентах: ФИО, возраст, пол, профессия, доход |
| `transactions`      | Детали транзакций: сумма, тип, дата, ID клиента |
| `transaction_type`  | Типы операций: перевод, снятие, депозит |
| `atm_location`      | Локации банкоматов, где были совершены операции |
| `calendar`          | Календарные данные: дата, день недели, неделя, месяц |
| `views`             | Представления для анализа объединённых таблиц |

##  Основные выводы

- **Клиенты по полу:** 50.2% мужчин, 49.8% женщин.
- **Транзакции по полу:** почти равномерное распределение.
- **Клиенты Wisabi:** 80% — свои клиенты, 20% — сторонние.
- **Топ профессий:** Студенты, Медработники, Трейдеры, Юристы, Инженеры.
- **Типы счетов:** 56% — сберегательные, 44% — текущие.
- **По регионам:** Лагос лидирует по количеству транзакций (~35%).

 ## Рекомендации на основе анализа таблиц
 ## customers
Молодая аудитория (студенты) — разработать специальные банковские продукты (карты, приложения, скидки) для студентов и молодежи.

Профессии с высоким доходом — создать премиальные предложения для инженеров, врачей, юристов и разработчиков.

Баланс полов — маркетинг можно ориентировать на оба пола, так как гендерное распределение почти поровну.

## transactions
Высокая активность клиентов Wisabi — стоит усиливать удержание текущих клиентов с помощью программ лояльности.

 Большая доля транзакций в Lagos — этот регион можно выбрать для пилотного запуска новых продуктов или акций.

 Активность по времени суток (если добавить) — может подсказать лучшее время для коммуникации с клиентами.

## transaction_type
Анализ популярности операций — позволяет увидеть, какие операции наиболее востребованы (например, переводы vs снятие).

Рекомендация по комиссиям — можно регулировать комиссии на основе популярных типов транзакций.

## atm_location
Региональные различия — в регионах с низкой активностью (например, FCT) можно провести оффлайн-рекламу или установить дополнительные банкоматы.

Оптимизация инфраструктуры — поможет понять, где нужно увеличить/уменьшить количество точек обслуживания.

## calendar
Пиковые дни — добавить сезонный анализ (например, больше операций в начале месяца или по пятницам).

Планирование ресурсов — аналитика поможет банку управлять рабочими графиками и технической нагрузкой.


##  Автор
Гуломалиев Шероз Ёразизович
